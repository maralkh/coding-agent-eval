{
  "id": "scikit-learn__scikit-learn-31500",
  "repo": "scikit-learn/scikit-learn",
  "base_commit": "5e7e7bdef29a6c2a078e9cdcdfdf457cd2056461",
  "issue_number": 30763,
  "issue_title": "ENH: Display parameters in HTML representation",
  "issue_body": "<!--\r\nThanks for contributing a pull request! Please ensure you have taken a look at\r\nthe contribution guidelines: https://github.com/scikit-learn/scikit-learn/blob/main/CONTRIBUTING.md\r\n-->\r\n\r\n#### Reference Issues/PRs\r\n\r\nWorking on first point on #26595\r\nFixes:  #21266\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n- This code allows to visualise the estimator's parameter values. It adds an interactive dropdown hidden by default.  \r\n- Copy paste button added. When clicking on it, the parameter's name is saved to the clipboard. \r\n\r\n\r\n#### Any other comments?\r\n\r\n- For my future-self: See https://ipython.readthedocs.io/en/stable/config/integrating.html for information on `_repr_mimebundle_` \r\n\r\n\r\n\r\n<!--\r\nPlease be aware that we are a loose team of volunteers so patience is\r\nnecessary; assistance handling other issues is very welcome. We value\r\nall user contributions, no matter how minor they are. If we are slow to\r\nreview, either the pull request needs some benchmarking, tinkering,\r\nconvincing, etc. or more likely the reviewers are simply busy. In either\r\ncase, we ask for your understanding during the review process.\r\nFor more information, see our FAQ on this topic:\r\nhttps://scikit-learn.org/dev/faq.html#why-is-my-pull-request-not-getting-any-attention.\r\n\r\nThanks for contributing!\r\n-->\r\n\r\n@glemaitre : WDYT? ",
  "pr_number": 31500,
  "pr_title": "FIX short deprecation cycle for private module",
  "gold_patch": "diff --git a/sklearn/tests/test_common.py b/sklearn/tests/test_common.py\nindex de5003687ca95..0ada8c5ef0a30 100644\n--- a/sklearn/tests/test_common.py\n+++ b/sklearn/tests/test_common.py\n@@ -136,6 +136,10 @@ def test_check_estimator_generate_only_deprecation():\n     \"ignore:Since version 1.0, it is not needed to import \"\n     \"enable_hist_gradient_boosting anymore\"\n )\n+# TODO(1.8): remove this filter\n+@pytest.mark.filterwarnings(\n+    \"ignore:Importing from sklearn.utils._estimator_html_repr is deprecated.\"\n+)\n def test_import_all_consistency():\n     sklearn_path = [os.path.dirname(sklearn.__file__)]\n     # Smoke test to check that any name in a __all__ list is actually defined\ndiff --git a/sklearn/utils/_estimator_html_repr.py b/sklearn/utils/_estimator_html_repr.py\nnew file mode 100644\nindex 0000000000000..f7898ae5e76cc\n--- /dev/null\n+++ b/sklearn/utils/_estimator_html_repr.py\n@@ -0,0 +1,34 @@\n+# Authors: The scikit-learn developers\n+# SPDX-License-Identifier: BSD-3-Clause\n+\n+import warnings\n+\n+from ._repr_html.base import _HTMLDocumentationLinkMixin\n+from ._repr_html.estimator import (\n+    _get_visual_block,\n+    _IDCounter,\n+    _VisualBlock,\n+    _write_estimator_html,\n+    _write_label_html,\n+    estimator_html_repr,\n+)\n+\n+__all__ = [\n+    \"_HTMLDocumentationLinkMixin\",\n+    \"_IDCounter\",\n+    \"_VisualBlock\",\n+    \"_get_visual_block\",\n+    \"_write_estimator_html\",\n+    \"_write_label_html\",\n+    \"estimator_html_repr\",\n+]\n+\n+# TODO(1.8): Remove the entire module\n+warnings.warn(\n+    \"Importing from sklearn.utils._estimator_html_repr is deprecated. The tools have \"\n+    \"been moved to sklearn.utils._repr_html. Be aware that this module is private and \"\n+    \"may be subject to change in the future. The module _estimator_html_repr will be \"\n+    \"removed in 1.8.0.\",\n+    FutureWarning,\n+    stacklevel=2,\n+)\ndiff --git a/sklearn/utils/tests/test_estimator_html_repr.py b/sklearn/utils/tests/test_estimator_html_repr.py\nnew file mode 100644\nindex 0000000000000..d24e357b74426\n--- /dev/null\n+++ b/sklearn/utils/tests/test_estimator_html_repr.py\n@@ -0,0 +1,21 @@\n+# Authors: The scikit-learn developers\n+# SPDX-License-Identifier: BSD-3-Clause\n+\n+import importlib\n+import sys\n+\n+import pytest\n+\n+\n+# TODO(1.8): Remove the entire file\n+def test_estimator_html_repr_warning():\n+    with pytest.warns(FutureWarning):\n+        # Make sure that we check for the warning when loading the module (reloading it\n+        # if needed).\n+        module_name = \"sklearn.utils._estimator_html_repr\"\n+        if module_name in sys.modules:\n+            importlib.reload(sys.modules[module_name])\n+        else:\n+            importlib.import_module(module_name)\n+\n+    assert sys.modules[module_name] is not None\n",
  "fail_to_pass": [
    "test_estimator_html_repr_warning"
  ],
  "pass_to_pass": [],
  "relevant_files": [
    "sklearn/tests/test_common.py",
    "sklearn/utils/_estimator_html_repr.py",
    "sklearn/utils/tests/test_estimator_html_repr.py"
  ],
  "difficulty": "medium",
  "created_at": "2025-06-06T17:17:40Z",
  "pr_url": "https://github.com/scikit-learn/scikit-learn/pull/31500",
  "issue_url": "https://github.com/scikit-learn/scikit-learn/pull/30763"
}