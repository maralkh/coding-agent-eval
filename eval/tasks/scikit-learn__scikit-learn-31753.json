{
  "id": "scikit-learn__scikit-learn-31753",
  "repo": "scikit-learn/scikit-learn",
  "base_commit": "68218f7891d527e05aa39f08c37ca22208841997",
  "issue_number": 29462,
  "issue_title": "MAINT Deprecate scoring='max_error' and replace it by scoring='neg_max_error'",
  "issue_body": "#### Reference Issues/PRs\r\n\r\nFixes #29417\r\n\r\nThis deprecates `scoring='max_error` and replaces it with `scoring='neg_max_error'`.\r\n\r\nThis is very similar to https://github.com/scikit-learn/scikit-learn/pull/14898 that did a similar thing for `scoring='brier_score_loss'` => `scoring='neg_brier_score'`\r\n\r\n#### What does this implement/fix? Explain your changes.\r\n\r\nRenames the `max_error` scorer to `neg_max_error` in order to make it consistent with other scorers that have `greater_is_better = False` (and consistent with the documentation as well). Deprecates `max_error` with a deprecation warning message stating that it will be removed in v1.8.\r\n\r\n#### Any other comments?\r\n\r\nPlease remove the deprecation warning, deprecation test case and the two comment lines I added (which start with `XXX`) once the old scorer is removed.\r\n\r\n",
  "pr_number": 31753,
  "pr_title": "MAINT Clean up deprecations for 1.8: scoring='max_error'",
  "gold_patch": "diff --git a/sklearn/metrics/_scorer.py b/sklearn/metrics/_scorer.py\nindex f76c629d3c169..10b70842045ee 100644\n--- a/sklearn/metrics/_scorer.py\n+++ b/sklearn/metrics/_scorer.py\n@@ -249,8 +249,6 @@ def __init__(self, score_func, sign, kwargs, response_method=\"predict\"):\n         self._sign = sign\n         self._kwargs = kwargs\n         self._response_method = response_method\n-        # TODO (1.8): remove in 1.8 (scoring=\"max_error\" has been deprecated in 1.6)\n-        self._deprecation_msg = None\n \n     def _get_pos_label(self):\n         if \"pos_label\" in self._kwargs:\n@@ -309,12 +307,6 @@ def __call__(self, estimator, X, y_true, sample_weight=None, **kwargs):\n         score : float\n             Score function applied to prediction of estimator on X.\n         \"\"\"\n-        # TODO (1.8): remove in 1.8 (scoring=\"max_error\" has been deprecated in 1.6)\n-        if self._deprecation_msg is not None:\n-            warnings.warn(\n-                self._deprecation_msg, category=DeprecationWarning, stacklevel=2\n-            )\n-\n         _raise_for_params(kwargs, self, None)\n \n         _kwargs = copy.deepcopy(kwargs)\n@@ -468,12 +460,7 @@ def get_scorer(scoring):\n     \"\"\"\n     if isinstance(scoring, str):\n         try:\n-            if scoring == \"max_error\":\n-                # TODO (1.8): scoring=\"max_error\" has been deprecated in 1.6,\n-                # remove in 1.8\n-                scorer = max_error_scorer\n-            else:\n-                scorer = copy.deepcopy(_SCORERS[scoring])\n+            scorer = copy.deepcopy(_SCORERS[scoring])\n         except KeyError:\n             raise ValueError(\n                 \"%r is not a valid scoring value. \"\n@@ -717,14 +704,6 @@ def make_scorer(\n explained_variance_scorer = make_scorer(explained_variance_score)\n r2_scorer = make_scorer(r2_score)\n neg_max_error_scorer = make_scorer(max_error, greater_is_better=False)\n-max_error_scorer = make_scorer(max_error, greater_is_better=False)\n-# TODO (1.8): remove in 1.8 (scoring=\"max_error\" has been deprecated in 1.6)\n-deprecation_msg = (\n-    \"Scoring method max_error was renamed to \"\n-    \"neg_max_error in version 1.6 and will \"\n-    \"be removed in 1.8.\"\n-)\n-max_error_scorer._deprecation_msg = deprecation_msg\n neg_mean_squared_error_scorer = make_scorer(mean_squared_error, greater_is_better=False)\n neg_mean_squared_log_error_scorer = make_scorer(\n     mean_squared_log_error, greater_is_better=False\ndiff --git a/sklearn/metrics/tests/test_score_objects.py b/sklearn/metrics/tests/test_score_objects.py\nindex 43f593289d5f3..509e8df26d2f2 100644\n--- a/sklearn/metrics/tests/test_score_objects.py\n+++ b/sklearn/metrics/tests/test_score_objects.py\n@@ -717,16 +717,6 @@ def test_scoring_is_not_metric():\n         check_scoring(KMeans(), scoring=cluster_module.rand_score)\n \n \n-def test_deprecated_scorer():\n-    X, y = make_regression(n_samples=10, n_features=1, random_state=0)\n-    X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=0)\n-    reg = DecisionTreeRegressor()\n-    reg.fit(X_train, y_train)\n-    deprecated_scorer = get_scorer(\"max_error\")\n-    with pytest.warns(DeprecationWarning):\n-        deprecated_scorer(reg, X_test, y_test)\n-\n-\n @pytest.mark.parametrize(\n     (\n         \"scorers,expected_predict_count,\"\n",
  "fail_to_pass": [],
  "pass_to_pass": [],
  "relevant_files": [
    "sklearn/metrics/_scorer.py",
    "sklearn/metrics/tests/test_score_objects.py"
  ],
  "difficulty": "medium",
  "created_at": "2025-07-13T14:28:08Z",
  "pr_url": "https://github.com/scikit-learn/scikit-learn/pull/31753",
  "issue_url": "https://github.com/scikit-learn/scikit-learn/pull/29462"
}